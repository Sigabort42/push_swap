#!/usr/bin/env python

import subprocess
import sys
from tkinter import *


tab = sys.argv

def     ft_init():
    del tab[0]
    p = subprocess.Popen(["./push_swap", " ".join(tab)], stdout = subprocess.PIPE)
    out = p.communicate()
    return (out[0].decode("utf8").split("\n"))

def     affiche():
    print(ligne_texte.get())

def     ft_window(nb):
    fenetre = Tk()
    nb_instructions = Label(fenetre, text="<<<=Nombre d'instructions=>>>["+str(nb)+"]")
    nb_instructions.pack()
    var_texte = StringVar()
    var_texte.set("Choisi ta vitesse")
    ligne_texte = Entry(fenetre, textvariable=var_texte, width=30)
    ligne_texte.pack()
    Button(fenetre, text='Choisir', command=affiche)
    fenetre.mainloop()

if __name__ == "__main__":
    instructions = ft_init()
    print(tab)
    print(instructions)
    ft_window(len(instructions) - 1)
